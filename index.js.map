{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst API_KEY = 'BURAYA_PIXABAY_API_KEY_YAZ';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nconst lightbox = new SimpleLightbox('.gallery a');\n\nform.addEventListener('submit', onSearch);\n\nfunction onSearch(event) {\n  event.preventDefault();\n\n  const query = event.target.elements.query.value.trim();\n\n  if (!query) {\n    iziToast.warning({\n      message: 'Please enter a search term!',\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  fetchImages(query)\n    .then(images => {\n      if (images.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n\n      renderGallery(images);\n      lightbox.refresh();\n    })\n    .catch(() => {\n      iziToast.error({\n        message: 'Something went wrong. Please try again later.',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n}\n\nasync function fetchImages(query) {\n  const response = await axios.get(BASE_URL, {\n    params: {\n      key: API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    },\n  });\n\n  return response.data.hits;\n}\n\nfunction renderGallery(images) {\n  const markup = images\n    .map(\n      img => `\n      <li class=\"gallery-item\">\n        <a href=\"${img.largeImageURL}\">\n          <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" />\n        </a>\n        <div class=\"info\">\n          <p>‚ù§Ô∏è ${img.likes}</p>\n          <p>üëÅ ${img.views}</p>\n          <p>üí¨ ${img.comments}</p>\n          <p>‚¨áÔ∏è ${img.downloads}</p>\n        </div>\n      </li>\n    `\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction clearGallery() {\n  gallery.innerHTML = '';\n}\n\nfunction showLoader() {\n  loader.classList.remove('is-hidden');\n}\n\nfunction hideLoader() {\n  loader.classList.add('is-hidden');\n}\n"],"names":["form","gallery","loader","API_KEY","BASE_URL","lightbox","SimpleLightbox","onSearch","event","query","iziToast","clearGallery","showLoader","fetchImages","images","renderGallery","hideLoader","axios","markup","img"],"mappings":"wyBAOA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAU,6BACVC,EAAW,2BAEXC,EAAW,IAAIC,EAAe,YAAY,EAEhDN,EAAK,iBAAiB,SAAUO,CAAQ,EAExC,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EAEpB,MAAMC,EAAQD,EAAM,OAAO,SAAS,MAAM,MAAM,OAEhD,GAAI,CAACC,EAAO,CACVC,EAAS,QAAQ,CACf,QAAS,6BACf,CAAK,EACD,MACD,CAEDC,IACAC,IAEAC,EAAYJ,CAAK,EACd,KAAKK,GAAU,CACd,GAAIA,EAAO,SAAW,EAAG,CACvBJ,EAAS,MAAM,CACb,QACE,0EACZ,CAAS,EACD,MACD,CAEDK,EAAcD,CAAM,EACpBT,EAAS,QAAO,CACtB,CAAK,EACA,MAAM,IAAM,CACXK,EAAS,MAAM,CACb,QAAS,+CACjB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbM,GACN,CAAK,CACL,CAEA,eAAeH,EAAYJ,EAAO,CAWhC,OAViB,MAAMQ,EAAM,IAAIb,EAAU,CACzC,OAAQ,CACN,IAAKD,EACL,EAAGM,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,CAAG,GAEe,KAAK,IACvB,CAEA,SAASM,EAAcD,EAAQ,CAC7B,MAAMI,EAASJ,EACZ,IACCK,GAAO;AAAA;AAAA,mBAEMA,EAAI,aAAa;AAAA,sBACdA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,kBAGtCA,EAAI,KAAK;AAAA,kBACTA,EAAI,KAAK;AAAA,kBACTA,EAAI,QAAQ;AAAA,kBACZA,EAAI,SAAS;AAAA;AAAA;AAAA,KAI1B,EACA,KAAK,EAAE,EAEVlB,EAAQ,mBAAmB,YAAaiB,CAAM,CAChD,CAEA,SAASP,GAAe,CACtBV,EAAQ,UAAY,EACtB,CAEA,SAASW,GAAa,CACpBV,EAAO,UAAU,OAAO,WAAW,CACrC,CAEA,SAASc,GAAa,CACpBd,EAAO,UAAU,IAAI,WAAW,CAClC"}